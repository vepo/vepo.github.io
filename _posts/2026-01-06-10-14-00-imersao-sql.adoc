---
title: Imersão SQL
published: false
description: |
    
tags: [Ciência da Computação, Bases de Dados, SQL, Formas Normais, Dependência Funcional, Modelagem de Dados]
cover_image: /assets/images/capas/disquete-100-42.jpg
series: Introdução a Bases de Dados
permalink: /posts/imersao-sql
publish_date: 2026-01-05 12:24:00 +0300
---

Agora que sabemos o que são bancos de dados, como são estruturados internamentes e como modelar um banco de dados, vamos entrar a fundo na linguagem SQL, mostrando toda a potencialidade dela.

== Como e quando usar SQL?

SQL é a linguagem de comunicação com bases de dados relacionais. Quando vamos usar um banco de dados relacional, é quase certo que podemos usar uma linguagem em comum com ele para consultar, adicionar ou remover dados, mas o SQL possui outras funcionalidades além do acesso ao dados. Através do SQL é possível gerenciar transações e permissões, assuntos ainda não cobertos.

=== Então todo banco relacional implementa SQL?

Sim e não. Na verdade quase todo banco considerado relacional dá algum suporte a linguagem SQL, mas isso não significa que ele implementa todas as funcionalidade. É preciso lembrar que SQL é um padrão em constante evolução e que nem todas as funcionalidades fazem sentido para todos os bancos.

Alguns bancos também podem optar por fazer adaptações, ou extensões, da linguagem, por isso é importante conhecer a documentação do banco que se está usando. Aqui usaremos o PostgreSQL como exemplo, então, caso queira um tutorial, recomendo seguir o do https://www.w3schools.com/sql/default.asp[W3Schools] ou a https://www.postgresql.org/docs/18/index.html[documentação oficial do PostgreSQL].

Para melhor didática vamos começar a configurar o ambiente do zero criando e configurando uma base de dados. Então acessa o repositório https://github.com/vepo/sql-database-tutorial[github.com/vepo/sql-database-tutorial] e segue pelo tópico https://github.com/vepo/sql-database-tutorial/blob/main/docs/03-sql-tutorial.md[3. SQL Tutorial: Database Navigation and Querying].

=== Como é o modelo de dados que estamos trabalhando?

// XLJHRgCm47ptLwnuQNCwf3HINwggQfIalUWkKPLozuesu0jEmKQswGcL_Fijf0c69gs4GFREBZFZWNjZKTiYIza5J5IMOsHXYXRNQ3WyHmdF46Ohc0hSQCmOuz8AMmBFybILd1juOm3VZkjGn703ysKmUwIkszkddtTt1F1zklqLsjXGOiO9ycUyclmOhowlXmE2BPSDBCKl0CH6f4xnQdYiqkDtWyaJ9Tq1e-60TXEXUHYZhIlJSJ1hPsxLEYHDAJyzbn0npycZZAJtvJtivHbCKPVrvDbalXZ_elxleth0P5_FKEA6wpFTaUR4AmxHKZMOBsRFmNZnn7P7izlt7-m-pyWrt47rJEtgIrM4LYZP0r1bNSGRRbrXroJi2qKjyLohBO-EhD-Ndr4-G7fyHns-JMJTmwoJ8UFUpbdkr6uBqqt8uQns7n8UzaISItejlHLpLcmNrcZMAkq5liwhAhG9_odzmcD7GoE1I5x0Wz9SR2Iyy18qJvi3D8d83Mk_pLtb-rNbVAmtuBsVdDU3gQeJCmAsIu-vfLD3dQITc5_LyzzEE4gTjK8JAkcnu-vdy0HDYCQGy8QCLpknG5dwLldqvguL89Lj5WIw319XeBveh21FroNOXCEsa56JVVhbqJ5qd0HSgrS-e6x7guQRIsbFXoPQvS6hm8_46RkdUD8_zZy0

image::databases/company_db_diagram.png[]

[source,sql]
----
CREATE TABLE employees (
    employee_id SERIAL PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    phone VARCHAR(20),
    hire_date DATE NOT NULL,
    job_title VARCHAR(100) NOT NULL,
    department_id INT,
    salary DECIMAL(10,2) CHECK (salary >= 0),
    manager_id INT REFERENCES employees(employee_id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Departments table
CREATE TABLE departments (
    department_id SERIAL PRIMARY KEY,
    department_name VARCHAR(100) NOT NULL,
    location VARCHAR(100),
    budget DECIMAL(15,2),
    manager_id INT REFERENCES employees(employee_id)
);

-- Projects table
CREATE TABLE projects (
    project_id SERIAL PRIMARY KEY,
    project_name VARCHAR(200) NOT NULL,
    start_date DATE,
    end_date DATE,
    budget DECIMAL(15,2),
    status VARCHAR(20) CHECK (status IN ('Planning', 'Active', 'On Hold', 'Completed', 'Cancelled'))
);

-- Employee projects (junction table)
CREATE TABLE employee_projects (
    employee_id INT REFERENCES employees(employee_id),
    project_id INT REFERENCES projects(project_id),
    role VARCHAR(50),
    hours_worked DECIMAL(5,2),
    PRIMARY KEY (employee_id, project_id)
);
----