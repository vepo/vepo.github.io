<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" type="image/png" href="/icon.png" />
  <meta name="google-site-verification" content="xw_kgncLhv22qVjTIPi7adALZre8FIHY02-DGCuYuZ4" />

   <!-- SEO stuff -->
  
  <title>Um pouco de DDD: Elementos do Design de Software</title>
  <meta property="og:title" content="Um pouco de DDD: Elementos do Design de Software" />
  

  
  <meta name="description" content="Quais são os elementos básicos de um modelo de software? Existem tipos de elementos que podemos usar para construir qualquer modelo?" />
  <meta property="og:description" content="Quais são os elementos básicos de um modelo de software? Existem tipos de elementos que podemos usar para construir qualquer modelo?" />
  

  
  <meta name="keywords" content="DDD, Documentação, Modelagem de Software">
  

  <link rel="canonical" href="https://blog.vepo.dev/posts/ddd-02-elementos-do-design-de-software" />
  <meta property="og:url" content="https://blog.vepo.dev/posts/ddd-02-elementos-do-design-de-software" />
  <meta property="og:site_name" content="Notas do dia a dia de um engenheiro de software" />

  
  <meta property="og:image" content="https://blog.vepo.dev/assets/images/docs-100-42.webp" />
  

  
  <!-- if it's an article -->
  <meta property="og:type" content="article" />
  
  <meta property="article:published_time" content="2022-11-08T10:30:00+00:00" />
  <meta property="article:modified_time" content="2022-11-08T10:30:00+00:00" />
  

  <meta content="https://www.linkedin.com/in/victorosorio/" property="article:author">

  
  
  

  
  
  <meta content="DDD" property="article:tag">
  
  <meta content="Documentação" property="article:tag">
  
  <meta content="Modelagem de Software" property="article:tag">
  
  

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "headline": "Elementos do Design de Software",
      "datePublished": "2022-11-08T10:30:00+00:00",
      
      "description": "Quais são os elementos básicos de um modelo de software? Existem tipos de elementos que podemos usar para construir qualquer modelo?",
      
      
      "url": "https://blog.vepo.dev/posts/ddd-02-elementos-do-design-de-software"
    }
  </script>

  

  <link rel="author" href="https://www.linkedin.com/in/victorosorio/" />
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link href="https://db.onlinewebfonts.com/c/1e44faec07b8b81f60a3215d76bd0086?family=Irvin-Heading" rel="stylesheet">
  <link href="https://db.onlinewebfonts.com/c/68e94a17c3e618dbe0936fcbf25b26c6?family=TNY+Adobe+Caslon+Pro+Regular" rel="stylesheet"> 
  <link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/assets/css/main.css" />
  <link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/assets/css/syntax.css">
  <script src="/assets/js/jquery.min.js"></script>
  <script src="/assets/js/adjustments.js" async></script>
  <!--script src="https://stats.vepo.dev/load-stats.js" async></script-->
  <script src="https://kit.fontawesome.com/9b30a05807.js" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
  <script src="/assets/js/pdf.js"></script>
  <script>
      window.MathJax = {
      tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
      };
  </script>
</head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YXWDKRN6ZR"></script>
<script async>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-YXWDKRN6ZR');
</script>


<body>
    <main class="container">
        <div class="row g-5">
            <div class="col-md-2">
                <div class="position-sticky" style="top: 2rem;">
                    <header class="site-header">
                        <h3 class="site-title"><a href="/">Victor Osório</a></h3>
                        <nav class="menu-list">
	
	<a href="/tags" class="menu-link">Tags</a>
	
	<a href="/series" class="menu-link">Séries</a>
	
	<a href="/palestras" class="menu-link">Palestras</a>
	
	<a href="/en" class="menu-link">English</a>
	
	<a href="/tutorial" class="menu-link">Tutoriais</a>
	
	<a href="/livros" class="menu-link">Livros</a>
	
	<a href="/about" class="menu-link">Sobre</a>
	
</nav>
                    </header>
                </div>
            </div>
            <div class="col-md-10 main-content">
                <div class="article cover-image">
                    
                    <img alt="Elementos do Design de Software" src="/assets/images/docs-100-42.webp" class="img-fluid" />
                    
                </div>
                <div class="title">
                    
                    <h1 class="serie-title">
                        Um pouco de DDD
                    </h1>
                    <h2>
                        Elementos do Design de Software
                    </h2>
                    
                </div>
                
                
                <div class="publish_date">
                    <strong>
                        <time datetime="2022-11-08T10:30:00+00:00">
                            08/novembro/2022
                        </time>
                    </strong>
                </div>
                
                <div class="tag-container">
                    
                    <a class="label label-default ddd" href="/tags/#ddd">
                        <i class="fas fa-tags"></i>
                        DDD
                    </a>
                    
                    <a class="label label-default documentação" href="/tags/#documentação">
                        <i class="fas fa-tags"></i>
                        Documentação
                    </a>
                    
                    <a class="label label-default modelagem-de-software" href="/tags/#modelagem-de-software">
                        <i class="fas fa-tags"></i>
                        Modelagem de Software
                    </a>
                    
                </div>
                
                
                <hr>
                
                





<div class="series">
    <div class="serie-contents">
        
        <h2>
            Um pouco de DDD<br/>
            <span class="description">(série de 2 partes)</span>
        </h2>
        
            
            <a href="/posts/ddd-01-modelos-e-dominio">
                <div class="serie-article">Modelos e Domínio em Software</div>
            </a>
            
        
            
            <div class="serie-article selected">Elementos do Design de Software</div>
            
        
    </div>
</div>

                <article>
                    <div class="paragraph">
<p>Esse post faz parte de uma série sobre Domain-Driven Design, se você não leu os posts anteriores, recomendo ler antes de seguir com a leitura. Nesse vamos expandir o nosso vocabulário de Design de Software detalhando alguns elementos (<em>building blocks</em>) de design.</p>
</div>
<div class="sect1">
<h2 id="experiencia-e-vivencia">Experiência e Vivência</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quando começamos a escrever software enfrentamos um grande desafio que é não saber dar nomes as coisas. Estamos muito focados em aprender estruturas de dados, sintaxes e bibliotecas. Nosso repertório é formado por tudo aquilo que vimos e em muitos casos foram apenas alguns exemplos que demonstram funcionalidades da linguagem. Falamos de listas, arrays, Strings, inteiros, float e booleans, mas não sabemos como abstrair a partir desse ponto.</p>
</div>
<div class="paragraph">
<p><em>— É mesmo! Eu vejo o trabalho de pessoa mais velhas e acho que nunca vou conseguir fazer algo igual!</em></p>
</div>
<div class="paragraph">
<p>Mas sabe qual é a diferença entre alguém mais velho na área e alguém que entrou agora? Experiência. Experiência traz vocabulário, vocabulário expande nossas capacidades de ver e compreender o mundo. Quanto mais projetos nós trabalhamos mais capacidade temos de compreender o que está acontecendo ao nosso redor.</p>
</div>
<div class="paragraph">
<p>E essa lição não deve se limita ao <strong>ofício</strong> de desenvolvimento de software, ela deve ser holística, isso é, deve englobar o todo da sua vida. Sabe porque eu grifei a palavra <strong>ofício</strong>? Porque o desenvolvimento de software é apenas um trabalho como todos os outros, mas ele deve intercambiar conhecimento com os outros trabalhos. Devemos aprender a perguntar e dar nomes a trabalhos e ofícios, pois no final estamos codificando experiências do mundo real.</p>
</div>
<div class="paragraph">
<p>Podemos definir que todo o trabalho do desenvolvimento de software é automatizar corretamente atividades que existem hoje e estão em plena operação. Antes de existir aplicativos de entrega de comida, já existia entrega de comida e vai continuar existindo se um dia os aplicativos deixarem de existir. O trabalho é sempre o mesmo, um cliente entra em contato com alguém que vende comida, a pessoa que vende comida contrata um entregador e esse deve traçar uma rota para otimizar a entrega.</p>
</div>
<div class="paragraph">
<p>(<em>Não pense que isso é algo moderno. Na cidade da minha avó tinha um senhor que a vida toda entregou pão de casa em casa até quando existia uma ÚNICA CENTRAL TELEFÔNICA na cidade. SIM! Lá nos anos 80 nas pequenas cidades do nordeste se precisássemos ligar pra capital precisava ir na central telefônica que era em uma praça. NÃO! Não foi a privatização do sistema de telefonia que popularizou o telefone, isso aconteceu um pouco antes de privatizar.</em>)</p>
</div>
<div class="paragraph">
<p>Logo, modelar software envolve conhecimento do mundo real e esse conhecimento deve ser destilado usando estruturas e tipos de dados do mundo do software. Para ajudar nessa modelagem vamos ver algumas categorias de elementos que podemos usar em nosso software. Um software sempre será composto por elementos que podem ser categorizados como Entidades, Objetos de Valor, Serviços e Módulos.</p>
</div>
<div class="paragraph">
<p>Essa atividade de caracterizar algo é o que a filosofia chama de Ontologia, ou seja, a busca pela natureza do ser, da existência e da realidade. Não precisamos ser filósofos e conhecer toda a história da filosofia, mas é sempre bom treinar o modo de fazer filosofia pois modelar software é um processo filosófico. No momento que começamos a pensar e questionar o que são e o que fazem estruturas reais para modelar elas em uma forma de conhecimento, estamos praticando filosofia.</p>
</div>
<div id="filosofia" class="imageblock text-center text-center">
<div class="content">
<img src="/assets/images/filosofia.avif" alt="filosofia">
</div>
<div class="title">Figura 1. A Escola de Atenas (Scuola di Atenas, no original) de Rafael. Contém uma representação dos grandes filósofos clássicos e dicas sobre seu discurso.</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="definindo-categorias">Definindo Categorias</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Já que vamos criar nosso modelo usando 4 categorias de elementos precisamos entender o que são essas categorias e como identificar elas na linguagem que estamos usando no nosso software. Para começar vamos jogar várias sentenças que poderiam fazer parte dos requisitos de um projeto de software para clínica médica e depois vamos trabalhar com esse domínio para tentar o modelar. Isso é um exercício de imaginação, não foi feito nenhum levantamento de requisitos, logo são apenas requisitos hipotéticos.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Durante a consulta o médico/médica fará a anamnese do paciente"</p>
</li>
<li>
<p>"A anamnese consiste de uma série de perguntas que o médico/médica faz para tentar chegar a um diagnóstico"</p>
</li>
<li>
<p>"O médico/médica pode pedir exames para chegar a um diagnóstico"</p>
</li>
<li>
<p>"A anamnese é usada para avaliar a evolução do paciente"</p>
</li>
<li>
<p>"O diagnóstico pode levar várias consultas para ser feito"</p>
</li>
<li>
<p>"O prontuário de um paciente é composto de todas as informações coletadas"</p>
</li>
<li>
<p>"Um médico/médica pode compartilha um prontuário de um paciente, mas deve escolher quais informações vão ser compartilhadas"</p>
</li>
<li>
<p>"O prontuário é estritamente sigiloso. Somente o médico/médica pode ter acesso e só pode ser compartilhada para outro médico/médica que atende ao mesmo paciente."</p>
</li>
<li>
<p>"A consulta pode ser marcada pelo paciente diretamente pelo site"</p>
</li>
<li>
<p>"Se o paciente não comparecer a consulta, deve ser cobrada uma taxa dele, mesmo que seja por plano"</p>
</li>
<li>
<p>"O reagendamento de consulta pode ser feito pelo médico/médica ou secretário/secretária e deve ser aprovado pelo paciente"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A primeira atividade que precisamos fazer é identificar todos os substantivos e verbos que fazem parte do nosso modelo. Todo substantivo pode executar uma atividade ativamente ou fazer parte de uma atividade passivamente, a atividade será definida pelo verbo. Então vamos rever a lista de requisitos marcando todo substantivo?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Durante a <strong>consulta</strong> o <strong>médico/médica</strong> fará a <strong>anamnese</strong> do <strong>paciente</strong>"</p>
</li>
<li>
<p>"A <strong>anamnese</strong> consiste de uma série de <strong>perguntas</strong> que o <strong>médico/médica</strong> faz para tentar chegar a um <strong>diagnóstico</strong>"</p>
</li>
<li>
<p>"O <strong>médico/médica</strong> pode pedir <strong>exames</strong> para chegar a um <strong>diagnóstico</strong>"</p>
</li>
<li>
<p>"A <strong>anamnese</strong> é usada para avaliar a <strong>evolução</strong> do <strong>paciente</strong>"</p>
</li>
<li>
<p>"O <strong>diagnóstico</strong> pode levar várias <strong>consultas</strong> para ser feito"</p>
</li>
<li>
<p>"O <strong>prontuário</strong> de um paciente é composto de todas as <strong>informações</strong> coletadas"</p>
</li>
<li>
<p>"Um <strong>médico/médica</strong> pode compartilha um <strong>prontuário</strong> de um <strong>paciente</strong>, mas deve escolher quais <strong>informações</strong> vão ser compartilhadas"</p>
</li>
<li>
<p>"O <strong>prontuário</strong> é estritamente sigiloso. Somente o <strong>médico/médica</strong> pode ter acesso e só pode ser compartilhada para outro <strong>médico/médica</strong> que atende ao mesmo <strong>paciente</strong>."</p>
</li>
<li>
<p>"A <strong>consulta</strong> pode ser marcada pelo <strong>paciente</strong> diretamente pelo site"</p>
</li>
<li>
<p>"Se o <strong>paciente</strong> não comparecer a <strong>consulta</strong>, deve ser cobrada uma <strong>taxa</strong> dele, mesmo que seja por <strong>plano</strong>"</p>
</li>
<li>
<p>"O reagendamento de <strong>consulta</strong> pode ser feito pelo <strong>médico/médica</strong> ou <strong>secretário/secretária</strong> e deve ser aprovado pelo <strong>paciente</strong>"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Os substantivos selecionados acima vão nos ajudar a entender os dois primeiros elementos de um modelo de negócios usando DDD: Entidades e Objetos de Valor. Então vamos ver a definição de cada um? Primeiro vamos ver o que o livro do Eric Evans fala sobre eles.</p>
</div>
<div id="pexels-medico-paciente" class="imageblock text-center text-center">
<div class="content">
<img src="/assets/images/pexels-medico-paciente.jpg" alt="pexels medico paciente">
</div>
<div class="title">Figura 2. Uma médica conversando com um Paciente, imagem do Pexels.com.</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Entidades</div>
Alguns objetos não são definidos principalmente por seus atributos. Eles representam uma linha de identidade que atravessa o tempo e geralmente representações distintas. Às vezes, um objeto como esse pode ser combinado com outros objetos, embora os atributos possam diferir. Um objeto deve ser distinguido de outros objetos, embora eles possam ter os mesmos atributos. Um erro de identidade pode levar à dados corrompidos.
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Objetos de Valor</div>
Quando você só se preocupa com os atributos de um elemento do modelo, classifique-o como um OBJETO DE VALOR. Faça com que ele expresse o significado dos atributos que ele transmite e dê a ele uma funcionalidade relacionada. Trate o OBJETO DE VALOR como imutável. Não dê a ele nenhuma identidade e evite complexidades de design desnecessárias para manter ENTIDADES.
</div>
</div>
<div class="paragraph">
<p>Pode parecer confuso, e realmente é, por isso vou tentar reescrever o que ele quer dizer com minhas próprias palavras.</p>
</div>
<div class="paragraph">
<p>Uma <strong>Entidade</strong> é um objeto do modelo de negócios que tem sua identidade própria definida apesar valores definido nela. Os valores podem e vão mudar com o tempo pois o objeto tem uma identidade própria.</p>
</div>
<div class="paragraph">
<p>Um <strong>Objeto de Valor</strong> é um objeto do modelo de negócios que não tem identidade própria, mas ela é definida pelos valores definido nela. Os valores não mudam pois eles são a identidade do objeto.</p>
</div>
<div class="paragraph">
<p><em>— E como podemos correlacionar esses conceitos nos substantivos acima?</em></p>
</div>
<div class="paragraph">
<p>Ora, qual dos substantivos tem uma identidade própria apesar dos valores? Vou citar os que acredito ter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Paciente</strong></p>
</li>
<li>
<p><strong>Médico/Médica</strong></p>
</li>
<li>
<p><strong>Consulta</strong></p>
</li>
<li>
<p><strong>Exames</strong></p>
</li>
<li>
<p><strong>Prontuário</strong></p>
</li>
<li>
<p><strong>Plano</strong></p>
</li>
<li>
<p><strong>Secretário/Secretária</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>— Tem algum meio fácil de identificar esses objetos?</em></p>
</div>
<div class="paragraph">
<p>Tem sim! Tenta imagina o que aconteceria se eu reusasse um objetos desse pra outro valor. Imagina que pegar um <strong>Paciente</strong> e mudar todos os valores para ser outro paciente, o que você imagina dessa possibilidade? Parece meio improvável porque o paciente é uma pessoa, ela existe e não dá pra mudar os valores dele, confere? Exato! Por isso <strong>Paciente</strong> é uma Entidade.</p>
</div>
<div class="paragraph">
<p>Já os objetos de valores tem entidade caracterizadas por seus atributos, então para saber se um objeto de valor podemos fazer uma pergunta. Posso mudar os valores dos atributos? Se a resposta para a primeira pergunta for <strong>não</strong>, temos um objeto de valor que é imutável. Na verdade todo objeto de valor pode ser considerado imutável, pois não faz sentido alterar um valor dele, apenas o substituir por completo.</p>
</div>
<div class="paragraph">
<p>Do nosso exemplo podemos considerar a <strong>Anamnese</strong> como um objeto de valor. Ela é o registro das perguntas que o médica fez durante a consulta, mas ela não existe sem a consulta e nem pode ser reutilizada em outra consulta. Do mesmo modo podemos definir <strong>Diagnóstico</strong> como um objeto de valor.</p>
</div>
<div class="paragraph">
<p>Existe outros objetos de valores que são inerentes ao nosso modelo mas não estão citados porque são tão básicos que nem seriam citados em uma lista de requisitos. Vamos pensar em um <strong>Paciente</strong>, o que o paciente tem que é útil para a administração do relacionamento dele com o consultório? A resposta deve contar <strong>Endereço</strong>, <strong>Contatos</strong>, <strong>Forma de Pagamentos</strong>, etc&#8230;&#8203; A lista vai depender de um levantamento de requisitos real, quem vai modelar esse negócio precisa conversar, não só com a médica, mas, PRINCIPALMENTE, com a secretária.</p>
</div>
<div class="paragraph">
<p><em>— E os outros dois elementos do modelo? Serviço e Módulo?</em></p>
</div>
<div class="paragraph">
<p>Bom, esse deixamos por final propositadamente! Vamos ver como Eric Evans define eles?</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Serviços</div>
Quando um processo significativo ou uma transformação no domínio não é responsabilidade natural de uma ENTIDADE ou OBJETO DE VALOR, acrescente uma operação no modelo como uma interface autônoma declara como SERVIÇO. Defina a interface em termos da linguagem do modelo e certifique-se de que o nome da operação faça parte da LINGUAGEM ONIPRESENTE. Faça com que o SERVIÇO não tenha um estado.
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Módulos</div>
Todo mundo utiliza MÓDULOS, mas poucas pessoas os tratam como partes do modelo já completamente desenvolvidas. O código é dividido em vários tipos de categorias, desde aspectos da arquitetura técnica até as atribuições de trabalho dos desenvolvedores. Mesmo os desenvolvedores que refatoram muito tendem a se contentar com MÓDULOS concebidos na fase inicial do projeto.
</div>
</div>
<div class="paragraph">
<p>O livro se torna complicado porque não traz definições coesas, mas as definições são trabalhadas na discussão que o capitulo faz. Mas ele quer dizer que <strong>Serviços</strong> são operações que não são responsabilidades de um objeto especifico. E <strong>Módulo</strong> são formas de agrupar o código pelo modelo e não pelas características arquiteturais.</p>
</div>
<div class="paragraph">
<p>Sobre serviços podemos chegar a primeira conclusão que existem operações que DEVEM ser efetuadas pelas Entidades ou Objetos de Valor e existem operações que DEVEM ser efetuadas por Serviços. Como definir quem vai implementar essa operação?</p>
</div>
<div class="paragraph">
<p>É nessa hora que surge o grande responsável por implementar toda atividade que não tem dono: o MANAGER (ou gerente em tradução livre). Esse na minha opinião é o maior anti-pattern na modelagem de domínios que existe. Toda vez que definimos uma classe como Manager, estamos criando uma classe sem personalidade e que provavelmente terá pouca coesão. O correto seria fazer mais perguntas a classe, ou mesmo criar classes mais especificas.</p>
</div>
<div class="paragraph">
<p>Vamos a um exemplo prático? Quem faz o agendamento das consultas? Se você pensou em responder quem tem o papel de secretária está errado. Essa é uma função desse papel, mas ele também tem nome e é mais comum do que imaginamos. Podemos chamar essa classe de <code>AgendadorDeConsultas</code>. Agora coloca ao lado os dois nomes <code>GerenciadorDeConsultas</code> e <code>AgendadorDeConsultas</code>, você consegue ver o ganho semântico que a escolha do papel correto trás? Consegue ver como nomes podem até ser mais óbvios do que eles podemos imaginar? Porque as respostas são obvias, quem faz o agendamento de consultas é o agendador, não há segredos em dar nomes. E quais operações esse serviço pode fazer? Todas relacionadas ao agendamento de consultas. No caso do não comparecimento a consultas, deve ser outro serviço que vai executar a cobrança da taxa.</p>
</div>
<div class="paragraph">
<p><em>— E os Módulos?</em></p>
</div>
<div class="paragraph">
<p>Os Módulos são divisões lógicas dentro do código. Vamos olhar para os nossos requisitos e procurar alguma divisão lógica ali? Será que eu conseguiria dividir eles em ao menos 3 módulos?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Consulta</p>
<div class="ulist">
<ul>
<li>
<p>"Durante a <strong>consulta</strong> o <strong>médico/médica</strong> fará a <strong>anamnese</strong> do <strong>paciente</strong>"</p>
</li>
<li>
<p>"A <strong>anamnese</strong> consiste de uma série de <strong>perguntas</strong> que o <strong>médico/médica</strong> faz para tentar chegar a um <strong>diagnóstico</strong>"</p>
</li>
<li>
<p>"A <strong>anamnese</strong> é usada para avaliar a <strong>evolução</strong> do <strong>paciente</strong>"</p>
</li>
<li>
<p>"O <strong>diagnóstico</strong> pode levar várias <strong>consultas</strong> para ser feito"</p>
</li>
<li>
<p>"O <strong>prontuário</strong> de um paciente é composto de todas as <strong>informações</strong> coletadas"</p>
</li>
<li>
<p>"Um <strong>médico/médica</strong> pode compartilha um <strong>prontuário</strong> de um <strong>paciente</strong>, mas deve escolher quais <strong>informações</strong> vão ser compartilhadas"</p>
</li>
<li>
<p>"O <strong>prontuário</strong> é estritamente sigiloso. Somente o <strong>médico/médica</strong> pode ter acesso e só pode ser compartilhada para outro <strong>médico/médica</strong> que atende ao mesmo <strong>paciente</strong>."</p>
</li>
<li>
<p>"A <strong>consulta</strong> pode ser marcada pelo <strong>paciente</strong> diretamente pelo site"</p>
</li>
<li>
<p>"O reagendamento de <strong>consulta</strong> pode ser feito pelo <strong>médico/médica</strong> ou <strong>secretário/secretária</strong> e deve ser aprovado pelo <strong>paciente</strong>"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Exame</p>
<div class="ulist">
<ul>
<li>
<p>"O <strong>médico/médica</strong> pode pedir <strong>exames</strong> para chegar a um <strong>diagnóstico</strong>"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cobrança</p>
<div class="ulist">
<ul>
<li>
<p>"Se o <strong>paciente</strong> não comparecer a <strong>consulta</strong>, deve ser cobrada uma <strong>taxa</strong> dele, mesmo que seja por <strong>plano</strong>"</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Eu fiz o exercício de separar esses requisitos em 3 módulos distintos: Consulta, Exame e Cobrança. Essa divisão não é ótima e não deveria ser final. Dependendo da evolução das funcionalidades, ou do entendimento do modelo, os módulos podem ser quebrados ou unidos. Um módulo deve contar uma unidade dentro do modelo.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="criando-interfaces">Criando Interfaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>O grande ganho que temos quando dividimos um software em módulos é encapsular complexidades. Um módulo para acessar outro deve acessar uma funcionalidade ou um serviço e não o código diretamente.</p>
</div>
<div class="paragraph">
<p>Quando temos todo o código sendo implementado no mesmo projeto, processo ou time, temos a tentação de acessar diretamente o código de módulos distintos. Mas esse é um pecado capital em desenvolvimento de software pois vamos diminuir a coesão e aumentar o acoplamento. Módulos diferentes devem ser comunicar através de interfaces bem definidas e comuns aos dois contextos.</p>
</div>
<div class="paragraph">
<p><em>— O que isso significa na prática?!?!?!</em></p>
</div>
<div class="paragraph">
<p>Devemos olhar os módulos como caixas pretas e não precisamos de todas as informações contidas em um determinado módulo, somente a que é necessária no contexto requerido. Vamos ver isso no contexto das consultas?</p>
</div>
<div class="paragraph">
<p>Para cada <strong>Paciente</strong> existe a informação de qual <strong>Plano</strong> ele possui. Ora um plano de saúde é importante se uma cobrança é realizada ou se um exame é pedido, mas em nada influência quando estamos falando da consulta. Será que essa informação é relevante durante a consulta? Eticamente ela deveria ser omitida. E papel de um módulo omitir as informações não relevantes aos outros módulos.</p>
</div>
<div class="paragraph">
<p>Se olharmos agora para o módulo de Exame, como é feito o pedido de Exame? Será que os vários laboratórios tem APIs distintas? Será que o formato retornado pelo laboratório é único? Tudo isso não importa para o módulo de Consulta, a médica na proxima consulta deve ter como informação apenas o resultado dos exames em um formato padronizado.</p>
</div>
<div class="paragraph">
<p>Se a divisão de módulos for respeitada e uma API for utilizada, a divisão de módulos entre processos distintos será feita sem grandes complexidades. Antigamente, em Java, era comum criar interfaces e implementações em objetos pois um serviço pode ser implementado por um servidor distinto e chamado remotamente usando Java RMI. O mesmo ainda pode acontecer hoje quando usamos APIs, ao invés de usarmos o protocolo RMI, que tem uma série de limitações, inclusive isso foi pontuado por Eric Evans ao se referir ao "estado" de um serviço, podemos usar a API como uma interface comum entre cliente e servidor.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusao">Conclusão</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Esses quatro elementos da modelagem de software vai possibilitar você a construir um modelo rico e detalhado. É sempre bom relembrar que dar o nome correto as coisas é muito importante e para isso é importante fazer as perguntas corretas, construindo assim a Linguagem Onipresente que falamos no post anterior.</p>
</div>
</div>
</div>
                </article>
                
                <div style="text-align: center;margin: 10px auto;max-width: 50%;">
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
                        <img alt="Licença Creative Commons" style="border-width:0"
                            src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" />
                    </a>
                    <br />
                    Este obra está licenciado com uma Licença
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
                        Creative Commons Atribuição-NãoComercial-CompartilhaIgual 4.0 Internacional
                    </a>.
                </div>
                





<div class="series">
    <div class="serie-contents">
        
        <h2>
            Um pouco de DDD<br/>
            <span class="description">(série de 2 partes)</span>
        </h2>
        
            
            <a href="/posts/ddd-01-modelos-e-dominio">
                <div class="serie-article">Modelos e Domínio em Software</div>
            </a>
            
        
            
            <div class="serie-article selected">Elementos do Design de Software</div>
            
        
    </div>
</div>

                <div class="article-footer">
                    
                    <div class="published">
                        <div>Escrito em 08/novembro/2022</div>
                    </div>
                    
                    
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
        
        
         
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
        
        
         
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
        
        
         
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     
 
     
         
     
         
     
         
     


    
<div class="related-posts">
    <h2>Posts relacionados</h2>
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
            
    <a href="/posts/linguagem-onipresente">
                
                    Domain-Driven Design: Linguagem Onipresente
                
    </a>
                
                 
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
            
    <a href="/posts/inicie-um-projeto-pelo-readme">
                
                    Inicie um projeto pelo README.md
                
    </a>
                
                 
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
            
    <a href="/posts/ddd-01-modelos-e-dominio">
                
                    Um pouco de DDD: Modelos e Domínio em Software
                
    </a>
                
                 
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
     
        
         
             
         
             
         
             
         
    

</div>
                    
                </div>
            </div>
        </div>
        </div>
    </main>
    <footer class="footer">
	<ul class="footer-links">
		<li>
			<a href="/pj-clt/">
				<button type="button" class="btn btn-dark">
					Calculadora PJxCLT
				</button>
			</a>
		</li>
		<li>
			<a href="https://www.youtube.com/@victor.osorio">
				<i class="fab fa-youtube fa-inverse fa-2x"></i>
			</a>
		</li>
		<li>
			<a href="http://github.com/vepo"> 
				<i class="fab fa-github fa-inverse fa-2x"></i>
			</a>
		</li>
		<li>
			<a href="http://www.linkedin.com/in/victorosorio">
				<i class="fab fa-linkedin-in fa-inverse fa-2x"></i>
			</a>
		</li>
		<li>
			<a href="https://bsky.app/profile/vepo.dev">
				<i class="fab fa-bluesky fa-inverse fa-2x"></i>
			</a>
		</li>
		<li>
			<a rel="me" href="https://mastodon.social/@vepo">
				<i class="fab fa-brands fa-mastodon fa-inverse fa-2x"></i>
			</a>
		</li>
		<li>&nbsp;</li>
	</ul>
</footer>

</body>
